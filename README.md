# backend-project-vlad.dementei

#Theme: Order Entry

##Система заказов.   
Существует перечень предложений (**offer**). Пользователь может создать заказ (**order**) из нескольких предложений (**orderItem**). Затем оплатить его.    
  
Характеристиками оффера (**Offer**) являются:  
- цена (**Price**) - объект, который хранит цифровое значение цены, у оффера может быть только одна цена; (связь один к одному)
- категория (**Category**) - объект, который хранит название категории к которой относится оффер, у одной категории может быть несколько офферов;  (связь один ко многим)
- дополнительные поля для более детального описания оффера.  
 
Характеристиками заказа (Order) являются:
- предложения (**OrderItem**), как составные части ордера созданные на основе предложения, у ордера может быть несколько ордер-айтемов; 
- ссылка на клиента (определяет принадлежность);
- общая цена заказа, сумма предложений привязанных к заказу;
- количество ордер-айтемов в заказе;
- дата заказа;
- признак оплаты;
- статус заказа;
- дополнительные поля для более полного описания заказа.

Характеристиками клиента (**Customer**) являются:
- ФИО;
- возраст;
- дополнительные поля для более полного описания клиента.
--------
 


##_Specification_

 Проект состоить из ДВУХ компонентов (модулей): 
 
A) **Catalog**
- Каталог (**Catalog**) - хранит предложения (**Offer**), позволяет
  - создать оффер и записать его в БД
  - получить оффера из БД
    - получить все
    - получить все по фильтру (цене, категории)
  - получить один оффер по id из БД. 
  - изменить оффер в БД
  - удалить оффер по id из БД.
  - создать, получить, изменить, удалить категорию
  - создать несколько категорий за один запрос
  - изменить у оффера только категорию
  
B) **Shop**

- Инвентарь (**Inventory**) - хранит заказы (**Order**), позволяет
  - создать заказ и сохранить его в БД
  - получить все заказы из БД
  - получение одного заказа из БД по id
  - получить заказ клиента по категории
  - изменить заказ в БД
  - удалить заказ из БД
- Обработчик, точка входа в приложение, использует для реализации своих бизнес-функций **Catalog** и **Inventory**. Опрашивает их по протоколу HTTP.
  - создать заказ привязанный к e-mail ИЛИ id
  - преобразовать оффер из Каталога в orderItem и добавить его в заказ
  - посчитать общую стоимость заказов, привязанных к email ИЛИ id
  - подсчитать общее количество заказов, привязанных к email ИЛИ id
  - получить все заказы привязанные к email ИЛИ id
  - получить все заказы по статусу оплаты (оплачено, не оплачено)
  - получить подробную информацию о заказе
  - оплата заказа
  - редактирование заказа (оплаченный заказ редактировать нельзя, редактирование заказа означает удаление из него orderItem)

- Хранит клиентов (**Customer**), позволяет
  - создать клиента и сохранить в БД
  - получить всех клиентов из БД
  - получить одного клиента по id из БД
  - изменить клиента в БД
  - удалить клиента из БД

_Реализация дополнительного API на усмотрение студента._ 

Каждый отдельный компонент (сервис) представляет собой отдельный проект со своим API.

Для реализации проекта использовать:
- Java 1.8
- PostgreSQL + pgAdmin
- Maven
- Git
- Spring Boot
- Spring Data
- Swagger2

--------

###**Важно:**
- Структура каждого сервиса должна соответствовать **MVC**, т.е. должна сохраняться структура контроллер(работа по обработке http-запросов) - сервис(логика, обработка данных) - репозиторий(операции с БД).
- Структура проекта состоит из **модулей** (Корневой проект от которого наследуются остальные)
- Добавить **валидацию** приходящих данных на каждый микросервис
- Добавить **обработчик ошибок** в каждый микросервис
- При реализации сервисов рекомендуется использовать SOLID принципы, шаблоны **GoF**
- Оформление кода должно соответствовать **Java Code Convention**;
- В качестве БД использовать **PostgreSQL**;
- Реализовать **логирование** действий пользователя в проекте;
- Код должен содержать **javadoc**;
- API должно соответствовать **REST** архитектуре
- Взаимодействие с другими сервисами должно осуществляться через отдельный класс - Клиент. (Лучшей практикой взаимодействия с каждым сервисом является отдельный клиент для каждого микросервиса).
- **_Вся логика работы по созданию Order и получение из Catalog предложений (Offer) должна быть в модуле Shop!_**

--------

Issue#1: Реализовать заготовку проекта. Создать 2 модуля описанных выше. (пустые)

Issue#2: Реализовать слой DAO (Repository) для 2 модулей. (CRUD) 

Issue#3: Реализовать слой Service для 2 модулей. (CRUD) 

Issue#4: Реализовать слой Controller для 2 модулей. (CRUD) 

Issue#5: Реализовать весь API по ТЗ (все требования по функционалу)




